<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LuxBags - Sacs de Luxe</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .bg-gradient {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d1a1a 100%);
        }
        
        .input-focus:focus {
            border-color: #6366f1;
            box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
        }
        
        .slider-container {
            position: relative;
            overflow: hidden;
        }
        
        .slider {
            display: flex;
            transition: transform 0.5s ease;
        }
        
        .slider-item {
            flex: 0 0 100%;
            padding: 0 1rem;
        }
        
        .badge-nouveau {
            background-color: #10B981;
        }
        
        .badge-promotion {
            background-color: #EF4444;
        }
        
        .badge-meilleure-vente {
            background-color: #F59E0B;
        }
        
        .badge-edition-limitee {
            background-color: #8B5CF6;
        }
    </style>
</head>

<body class="bg-gray-900">
    <!-- Navbar -->
    <nav class="bg-gray-800 border-b border-gray-700 fixed w-full z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <!-- Logo -->
                <div class="flex-shrink-0 flex items-center">
                    <a href="/" class="text-2xl font-bold text-indigo-400">LuxBags</a>
                </div>

                <!-- Menu Desktop -->
                <div class="hidden md:flex space-x-8">
                    <a href="/" class="text-gray-300 hover:text-white px-3 py-2 text-sm font-medium">Accueil</a>
                    <a href="/public/collections.html" class="text-gray-300 hover:text-white px-3 py-2 text-sm font-medium">Collections</a>
                    <a href="/public/nouveautes.html" class="text-gray-300 hover:text-white px-3 py-2 text-sm font-medium">Nouveautés</a>
                    <a href="/public/about.html" class="text-gray-300 hover:text-white px-3 py-2 text-sm font-medium">À propos</a>
                    <a href="/public/contact.html" class="text-gray-300 hover:text-white px-3 py-2 text-sm font-medium">Contact</a>
                    <a href="/public/profile.html" id="profile-link" class="text-gray-300 hover:text-white px-3 py-2 text-sm font-medium hidden">
                        <i class="fas fa-user mr-2"></i>Profil
                    </a>
                    <a href="/public/dashboard.html" id="dashboard-link" class="text-gray-300 hover:text-white px-3 py-2 text-sm font-medium hidden">
                        <i class="fas fa-tachometer-alt mr-2"></i>Dashboard
                    </a>
                </div>

                <!-- Icons -->
                <div class="hidden md:flex items-center space-x-6">
                    <a href="#" class="text-gray-400 hover:text-white">
                        <i class="fas fa-search text-lg"></i>
                    </a>
                    <div id="auth-links" class="flex items-center space-x-4">
                        <!-- Les liens d'authentification seront ajoutés dynamiquement -->
                    </div>
                    <!-- Compteur du panier -->
                    <div id="cart-counter" class="relative">
                        <a href="/public/cart.html" class="text-gray-400 hover:text-white">
                            <i class="fas fa-shopping-cart text-lg"></i>
                            <span id="cart-count" class="absolute -top-2 -right-2 bg-indigo-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
                        </a>
                    </div>
                </div>

                <!-- Bouton menu mobile -->
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-button" class="text-gray-400 hover:text-white focus:outline-none">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Menu Mobile -->
        <div id="mobile-menu" class="md:hidden hidden bg-gray-800 border-t border-gray-700">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="/" class="block text-gray-300 hover:text-white px-3 py-2 text-base font-medium">Accueil</a>
                <a href="/public/collections.html" class="block text-gray-300 hover:text-white px-3 py-2 text-base font-medium">Collections</a>
                <a href="/public/nouveautes.html" class="block text-gray-300 hover:text-white px-3 py-2 text-base font-medium">Nouveautés</a>
                <a href="/public/about.html" class="block text-gray-300 hover:text-white px-3 py-2 text-base font-medium">À propos</a>
                <a href="/public/contact.html" class="block text-gray-300 hover:text-white px-3 py-2 text-base font-medium">Contact</a>
                <a href="/public/profile.html" id="mobile-profile-link" class="block text-gray-300 hover:text-white px-3 py-2 text-base font-medium hidden">
                    <i class="fas fa-user mr-2"></i>Profil
                </a>
                <a href="/public/dashboard.html" id="mobile-dashboard-link" class="block bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-2 text-base rounded-lg hidden text-sm font-medium transition-colors duration-200">
                    <i class="fas fa-tachometer-alt mr-2"></i>Dashboard
                </a>
                <div class="pt-4 pb-3 border-t border-gray-700 flex justify-center space-x-6">
                    <a href="#" class="text-gray-400 hover:text-white">
                        <i class="fas fa-search text-lg"></i>
                    </a>
                    <div id="mobile-auth-links" class="flex items-center space-x-4">
                        <!-- Les liens d'authentification seront ajoutés dynamiquement -->
                    </div>
                    <a href="/public/cart.html" class="text-gray-400 hover:text-white">
                        <i class="fas fa-shopping-cart text-lg"></i>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="pt-20 pb-16 relative overflow-hidden bg-gray-900">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="relative h-[600px] md:h-[600px] rounded-xl overflow-hidden">
                <div id="hero-slider" class="slider-container h-full">
                    <div class="slider h-full">
                        <!-- Les slides seront générés dynamiquement ici -->
                    </div>
                </div>

                <!-- Navigation buttons -->
                <button class="absolute left-2 md:left-4 top-1/2 transform -translate-y-1/2 bg-gray-900 bg-opacity-50 text-white p-2 md:p-3 rounded-full hover:bg-opacity-75 transition duration-300" id="prev-slide">
                    <i class="fas fa-chevron-left text-lg md:text-xl"></i>
                </button>
                <button class="absolute right-2 md:right-4 top-1/2 transform -translate-y-1/2 bg-gray-900 bg-opacity-50 text-white p-2 md:p-3 rounded-full hover:bg-opacity-75 transition duration-300" id="next-slide">
                    <i class="fas fa-chevron-right text-lg md:text-xl"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Featured Products -->
    <section class="py-16 bg-gray-900">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold text-center text-white mb-12">Produits en Vedette</h2>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="featured-products">
                <!-- Les produits seront chargés dynamiquement ici -->
            </div>

            <div class="text-center mt-12">
                <a href="/public/collections.html" class="border-2 border-indigo-600 text-indigo-400 hover:bg-indigo-600 hover:text-white px-8 py-3 rounded-lg font-medium transition duration-300 inline-block">
                    Voir toute la collection
                </a>
            </div>
        </div>
    </section>

    <!-- Nouveautés -->
    <section class="py-16 bg-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold text-center text-white mb-12">Nouveautés</h2>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="new-products">
                <!-- Les produits seront chargés dynamiquement ici -->
            </div>

            <div class="text-center mt-12">
                <a href="/public/nouveautes.html" class="border-2 border-indigo-600 text-indigo-400 hover:bg-indigo-600 hover:text-white px-8 py-3 rounded-lg font-medium transition duration-300 inline-block">
                    Voir toutes les nouveautés
                </a>
            </div>
        </div>
    </section>

    <!-- Promotions -->
    <section class="py-16 bg-gray-900">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold text-center text-white mb-12">Promotions</h2>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="promo-products">
                <!-- Les produits seront chargés dynamiquement ici -->
            </div>

            <div class="text-center mt-12">
                <a href="/public/collections.html?badge=Promotion" class="border-2 border-indigo-600 text-indigo-400 hover:bg-indigo-600 hover:text-white px-8 py-3 rounded-lg font-medium transition duration-300 inline-block">
                    Voir toutes les promotions
                </a>
            </div>
        </div>
    </section>

    <!-- Meilleures Ventes -->
    <section class="py-16 bg-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold text-center text-white mb-12">Meilleures Ventes</h2>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="best-sellers">
                <!-- Les produits seront chargés dynamiquement ici -->
            </div>

            <div class="text-center mt-12">
                <a href="/public/collections.html?badge=Meilleure vente" class="border-2 border-indigo-600 text-indigo-400 hover:bg-indigo-600 hover:text-white px-8 py-3 rounded-lg font-medium transition duration-300 inline-block">
                    Voir toutes les meilleures ventes
                </a>
            </div>
        </div>
    </section>

    <!-- Éditions Limitées -->
    <section class="py-16 bg-gray-900">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold text-center text-white mb-12">Éditions Limitées</h2>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="limited-editions">
                <!-- Les produits seront chargés dynamiquement ici -->
            </div>

            <div class="text-center mt-12">
                <a href="/public/collections.html?badge=Édition limitée" class="border-2 border-indigo-600 text-indigo-400 hover:bg-indigo-600 hover:text-white px-8 py-3 rounded-lg font-medium transition duration-300 inline-block">
                    Voir toutes les éditions limitées
                </a>
            </div>
        </div>
    </section>

    <!-- Categories -->
    <section class="py-16 bg-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold text-center text-white mb-12">Nos Catégories</h2>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="categories-grid">
                <!-- Les catégories seront chargées dynamiquement ici -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <div id="footer-container"></div>
    <script src="public/js/footer.js"></script>

    <script>
        // Gestion du menu mobile
        document.getElementById('mobile-menu-button').addEventListener('click', () => {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        });

        // Gestion de l'authentification
        document.addEventListener('DOMContentLoaded', () => {
            const token = localStorage.getItem('token');
            const user = JSON.parse(localStorage.getItem('user'));
            const authLinks = document.getElementById('auth-links');
            const mobileAuthLinks = document.getElementById('mobile-auth-links');
            const profileLink = document.getElementById('profile-link');
            const dashboardLink = document.getElementById('dashboard-link');
            const mobileProfileLink = document.getElementById('mobile-profile-link');
            const mobileDashboardLink = document.getElementById('mobile-dashboard-link');

            if (token && user) {
                // Utilisateur connecté
                authLinks.innerHTML = `
                    <button id="logoutButton" class="text-gray-400 hover:text-white">
                        <i class="fas fa-sign-out-alt text-lg"></i>
                    </button>
                `;

                mobileAuthLinks.innerHTML = `
                    <button id="mobileLogoutButton" class="text-gray-400 hover:text-white">
                        <i class="fas fa-sign-out-alt text-lg"></i>
                    </button>
                `;

                // Afficher les liens profil et dashboard
                profileLink.classList.remove('hidden');
                mobileProfileLink.classList.remove('hidden');

                // Afficher le lien dashboard si l'utilisateur est admin
                if (user.is_admin) {
                    dashboardLink.classList.remove('hidden');
                    mobileDashboardLink.classList.remove('hidden');
                }

                // Gestion de la déconnexion
                document.getElementById('logoutButton').addEventListener('click', () => {
                    localStorage.removeItem('token');
                    localStorage.removeItem('user');
                    window.location.href = '/public/login.html';
                });

                document.getElementById('mobileLogoutButton').addEventListener('click', () => {
                    localStorage.removeItem('token');
                    localStorage.removeItem('user');
                    window.location.href = '/public/login.html';
                });
            } else {
                // Utilisateur non connecté
                authLinks.innerHTML = `
                    <a href="/public/login.html" class="text-gray-400 hover:text-white">
                        <i class="fas fa-sign-in-alt text-lg"></i>
                    </a>
                `;

                mobileAuthLinks.innerHTML = `
                    <a href="/public/login.html" class="text-gray-400 hover:text-white">
                        <i class="fas fa-sign-in-alt text-lg"></i>
                    </a>
                `;

                // Cacher les liens profil et dashboard
                profileLink.classList.add('hidden');
                dashboardLink.classList.add('hidden');
                mobileProfileLink.classList.add('hidden');
                mobileDashboardLink.classList.add('hidden');
            }

            // Charger les produits et mettre à jour le compteur du panier
            loadHeroProducts();
            loadFeaturedProducts();
            loadNewProducts();
            loadPromoProducts();
            loadBestSellers();
            loadLimitedEditions();
            loadCategories();
            updateCartCount();
        });

        // Fonction utilitaire pour gérer les URLs des médias
        function getMediaUrl(path, type) {
            if (!path) return null;

            // Si le chemin est déjà une URL complète, le retourner tel quel
            if (path.startsWith('http')) return path;

            // Sinon, construire l'URL relative
            const basePath = type === 'image' ? '/uploads/images/' : '/uploads/videos/';
            return basePath + path.split('/').pop();
        }

        // Fonction pour charger les produits du hero slider
        async function loadHeroProducts() {
            try {
                const response = await fetch('/products');
                const products = await response.json();

                // Filtrer les produits avec les badges "Nouveau" ou "Promo"
                const heroProducts = products.filter(product =>
                    product.badge === 'Nouveau' || product.badge === 'Promo'
                );

                const sliderContainer = document.querySelector('.slider');
                sliderContainer.innerHTML = '';

                heroProducts.forEach((product, index) => {
                            const slide = document.createElement('div');
                            slide.className = `slide hero-slide absolute inset-0 flex flex-col md:flex-row items-center p-4 md:p-10 bg-gradient-to-r from-gray-900 to-gray-800 ${index === 0 ? 'active' : ''}`;
                            slide.style.transform = `translateX(${index * 100}%)`;

                            const imageUrl = getMediaUrl(product.image_path, 'image');
                            const videoUrl = getMediaUrl(product.video_path, 'video');

                            slide.innerHTML = `
                        <div class="w-full md:w-1/2 text-white text-center md:text-left mb-8 md:mb-0">
                            <span class="text-indigo-400 font-semibold text-lg">${product.badge.toUpperCase()}</span>
                            <h1 class="text-3xl md:text-6xl font-bold mt-4 mb-6">${product.name}</h1>
                            <p class="text-gray-300 text-base md:text-lg mb-8">${product.description}</p>
                            <a href="/public/collections.html" class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 md:px-8 py-3 md:py-4 rounded-lg font-medium transition duration-300 transform hover:scale-105 w-full md:w-auto inline-block">
                                Découvrir
                            </a>
                        </div>
                        <div class="w-full md:w-1/2 md:pl-10">
                            ${videoUrl ? `
                                <div class="relative">
                                    <video class="w-full h-[300px] md:h-[500px] object-cover rounded-lg shadow-2xl" controls>
                                        <source src="${videoUrl}" type="video/mp4">
                                        Votre navigateur ne supporte pas la lecture de vidéos.
                                    </video>
                                </div>
                            ` : `
                                <img src="${imageUrl || 'https://via.placeholder.com/400x300?text=No+Image'}" 
                                     alt="${product.name}" 
                                     class="w-full h-[300px] md:h-[500px] object-cover rounded-lg shadow-2xl transform hover:scale-105 transition duration-300">
                            `}
                        </div>
                    `;
                    
                    sliderContainer.appendChild(slide);
                });

                // Initialiser les contrôles du slider
                initHeroSlider();
            } catch (error) {
                console.error('Erreur lors du chargement des produits du hero:', error);
            }
        }

        // Fonction pour initialiser le slider
        function initHeroSlider() {
            const slider = document.querySelector('.slider');
            const slides = document.querySelectorAll('.slide');
            const prevButton = document.getElementById('prev-slide');
            const nextButton = document.getElementById('next-slide');
            let currentSlide = 0;

            function updateSlider() {
                slides.forEach((slide, index) => {
                    slide.style.transform = `translateX(${(index - currentSlide) * 100}%)`;
                    slide.classList.toggle('active', index === currentSlide);
                });
            }

            prevButton.addEventListener('click', () => {
                currentSlide = (currentSlide - 1 + slides.length) % slides.length;
                updateSlider();
            });

            nextButton.addEventListener('click', () => {
                currentSlide = (currentSlide + 1) % slides.length;
                updateSlider();
            });

            // Défilement automatique toutes les 5 secondes
            setInterval(() => {
                currentSlide = (currentSlide + 1) % slides.length;
                updateSlider();
            }, 5000);
        }

        // Fonction pour charger les produits en vedette
        async function loadFeaturedProducts() {
            try {
                const response = await fetch('/products');
                const products = await response.json();

                const featuredProductsContainer = document.getElementById('featured-products');
                featuredProductsContainer.innerHTML = '';

                // Afficher les 6 premiers produits
                products.slice(0, 6).forEach(product => {
                    const productCard = createProductCard(product);
                    featuredProductsContainer.appendChild(productCard);
                });
            } catch (error) {
                console.error('Erreur lors du chargement des produits en vedette:', error);
            }
        }

        // Fonction pour charger les nouveautés
        async function loadNewProducts() {
            try {
                const response = await fetch('/products');
                const products = await response.json();

                const newProductsContainer = document.getElementById('new-products');
                newProductsContainer.innerHTML = '';

                // Filtrer les produits avec le badge "Nouveau"
                const newProducts = products.filter(product => product.badge === 'Nouveau').slice(0, 3);

                newProducts.forEach(product => {
                    const productCard = createProductCard(product);
                    newProductsContainer.appendChild(productCard);
                });
            } catch (error) {
                console.error('Erreur lors du chargement des nouveautés:', error);
            }
        }

        // Fonction pour charger les promotions
        async function loadPromoProducts() {
            try {
                const response = await fetch('/products');
                const products = await response.json();

                const promoProductsContainer = document.getElementById('promo-products');
                promoProductsContainer.innerHTML = '';

                // Filtrer les produits avec le badge "Promotion"
                const promoProducts = products.filter(product => product.badge === 'Promotion').slice(0, 3);

                promoProducts.forEach(product => {
                    const productCard = createProductCard(product);
                    promoProductsContainer.appendChild(productCard);
                });
            } catch (error) {
                console.error('Erreur lors du chargement des promotions:', error);
            }
        }

        // Fonction pour charger les meilleures ventes
        async function loadBestSellers() {
            try {
                const response = await fetch('/products');
                const products = await response.json();

                const bestSellersContainer = document.getElementById('best-sellers');
                bestSellersContainer.innerHTML = '';

                // Filtrer les produits avec le badge "Meilleure vente"
                const bestSellers = products.filter(product => product.badge === 'Meilleure vente').slice(0, 3);

                bestSellers.forEach(product => {
                    const productCard = createProductCard(product);
                    bestSellersContainer.appendChild(productCard);
                });
            } catch (error) {
                console.error('Erreur lors du chargement des meilleures ventes:', error);
            }
        }

        // Fonction pour charger les éditions limitées
        async function loadLimitedEditions() {
            try {
                const response = await fetch('/products');
                const products = await response.json();

                const limitedEditionsContainer = document.getElementById('limited-editions');
                limitedEditionsContainer.innerHTML = '';

                // Filtrer les produits avec le badge "Édition limitée"
                const limitedEditions = products.filter(product => product.badge === 'Édition limitée').slice(0, 3);

                limitedEditions.forEach(product => {
                    const productCard = createProductCard(product);
                    limitedEditionsContainer.appendChild(productCard);
                });
            } catch (error) {
                console.error('Erreur lors du chargement des éditions limitées:', error);
            }
        }

        // Fonction pour charger les catégories
        async function loadCategories() {
            try {
                const response = await fetch('/products');
                const products = await response.json();

                const categoriesContainer = document.getElementById('categories-grid');
                categoriesContainer.innerHTML = '';

                // Obtenir les catégories uniques
                const categories = [...new Set(products.map(product => product.category))];

                categories.forEach(category => {
                    const categoryCard = document.createElement('div');
                    categoryCard.className = 'category-card bg-gray-700 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition duration-300';
                    
                    // Trouver un produit de cette catégorie pour l'image
                    const categoryProduct = products.find(product => product.category === category);
                    const imageUrl = categoryProduct ? getMediaUrl(categoryProduct.image_path, 'image') : 'https://via.placeholder.com/400x300?text=No+Image';

                    categoryCard.innerHTML = `
                        <a href="/public/collections.html?category=${encodeURIComponent(category)}" class="block">
                            <img src="${imageUrl}" alt="${category}" class="w-full h-64 object-cover">
                            <div class="p-6">
                                <h3 class="text-xl font-semibold text-white mb-2">${category}</h3>
                                <p class="text-gray-400">Découvrez notre collection de ${category.toLowerCase()}</p>
                            </div>
                        </a>
                    `;
                    categoriesContainer.appendChild(categoryCard);
                });
            } catch (error) {
                console.error('Erreur lors du chargement des catégories:', error);
            }
        }

        // Fonction pour créer une carte de produit
        function createProductCard(product) {
            const productCard = document.createElement('div');
            productCard.className = 'product-card bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition duration-300';
            
            const imageUrl = getMediaUrl(product.image_path, 'image');
            const videoUrl = getMediaUrl(product.video_path, 'video');

            productCard.innerHTML = `
                <div class="relative">
                    ${videoUrl ? `
                        <div class="relative">
                            <video class="w-full h-64 object-cover" controls>
                                <source src="${videoUrl}" type="video/mp4">
                                Votre navigateur ne supporte pas la lecture de vidéos.
                            </video>
                        </div>
                    ` : `
                        <img src="${imageUrl || 'https://via.placeholder.com/400x300?text=No+Image'}" 
                             alt="${product.name}" 
                             class="w-full h-64 object-cover">
                    `}
                    ${product.badge ? `
                        <span class="absolute top-2 right-2 px-2 py-1 text-xs font-semibold rounded-full ${getBadgeClass(product.badge)}">
                            ${product.badge}
                        </span>
                    ` : ''}
                </div>
                <div class="p-6">
                    <h3 class="text-xl font-semibold text-white mb-2">${product.name}</h3>
                    <p class="text-gray-400 mb-4">${product.description}</p>
                    <div class="flex justify-between items-center">
                        <div>
                            <span class="text-2xl font-bold text-white">${product.price.toLocaleString()} FCFA</span>
                            ${product.original_price ? `
                                <span class="text-gray-400 line-through ml-2">${product.original_price.toLocaleString()} FCFA</span>
                            ` : ''}
                        </div>
                        <button onclick="addToCart(${product.id})" 
                                class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg transition duration-300">
                            <i class="fas fa-cart-plus"></i>
                        </button>
                    </div>
                </div>
            `;
            return productCard;
        }

        // Fonction pour obtenir la classe CSS du badge
        function getBadgeClass(badge) {
            switch (badge) {
                case 'Nouveau':
                    return 'badge-nouveau';
                case 'Promotion':
                    return 'badge-promotion';
                case 'Meilleure vente':
                    return 'badge-meilleure-vente';
                case 'Édition limitée':
                    return 'badge-edition-limitee';
                default:
                    return 'bg-gray-600';
            }
        }

        // Fonction pour ajouter au panier
        function addToCart(productId) {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const existingItem = cart.find(item => item.id === productId);

            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ id: productId, quantity: 1 });
            }

            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
        }

        // Fonction pour mettre à jour le compteur du panier
        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cart-count').textContent = totalItems;
        }
    </script>
</body>

</html>